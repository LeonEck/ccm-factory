{function a(){window.ccm[v].component(component)}var component={name:'factory',ccm:'https://akless.github.io/ccm/version/ccm-12.12.0.js',config:{html:{main:{id:'main',inner:[{id:'componentSelector',style:'display: none;',inner:[{inner:'URL der Komponente:<br>%currentUrl%resources/test_components/ccm.navmenu.js<br>%currentUrl%resources/test_components/ccm.kanban_card.js<br>%currentUrl%resources/test_components/ccm.game_chooser.js<br>%currentUrl%resources/test_components/ccm.form.js<br>%currentUrl%resources/test_components/ccm.teambuild_builder.js<br>%currentUrl%resources/test_components/ccm.radar_chart.js<br>%currentUrl%resources/test_components/ccm.radar_chart_documented.js<br>%currentUrl%resources/test_components/ccm.solutions_view.js<br>'},{tag:'input',id:'componentURL',size:'70',value:'%currentUrl%resources/test_components/ccm.kanban_card.js'},{inner:'URL der Config Datei (leer lassen, wenn nicht vorhanden):<br>%currentUrl%resources/test_components/configs.js'},{tag:'input',id:'componentConfigURL',size:'70',value:''},{inner:'Schl\xFCssel aus der Config Datei (leer lassen, wenn keine Config Datei angegeben wurde):<br>Demo'},{tag:'input',id:'componentConfigKeyURL',size:'70',value:''},{tag:'button',inner:'Komponente laden',onclick:'%loadComponentClick%'},{tag:'br'}]},{tag:'div',id:'chooseEditingStyle',style:'display: none;',inner:[{tag:'button',inner:'Config Editor',onclick:'%configEditorChosenClick%'},{tag:'button',inner:'Gef\xFChrter Modus',onclick:'%guidedEditingChosenClick%'}]},{tag:'div',id:'areaForConfigEditing',style:'display: none;',inner:[{id:'innerConfigEditorArea',inner:[{inner:'Config'}]},{tag:'br'},{tag:'div',id:'nameOfNewComponentInput',inner:[{tag:'button',inner:'Neue Komponente generieren',onclick:'%generateFromEditorClick%'}]}]},{tag:'div',id:'areaForGuidedEditing',style:'display: none;',inner:[{tag:'h2',inner:'Gef\xFChrter Modus zum Editieren der Konfiguration'},{id:'ccmDefaulConfigArea',style:'display: none;',inner:[{tag:'h4',inner:'CCM Konfiguration'},{inner:[{inner:'Name der neuen Komponente: '},{tag:'input',id:'guided_nameOfNewComponent'}]},{inner:[{id:'ccmUrlEditor',inner:['URL von CCM: ',{tag:'button',inner:'?',onclick:'%showHelpForCCMURL%'}]},{tag:'input',size:'50',id:'guided_ccmURL'}]}]},{id:'guided_componentSpecificConfiguration',inner:[{tag:'h4',inner:'Komponenten spezifische Konfiguration'},{tag:'div',id:'htmlEditorCaption',inner:'HTML:',style:'display: none;'},{tag:'div',id:'htmlEditor'}]},{tag:'button',inner:'Neue Komponente generieren',onclick:'%generateFromGuidedClick%'}]},{tag:'br'},{id:'newComponentDisplayLabel',inner:'Vollst\xE4ndiger Komponentencode:',style:'display: none;'},{tag:'textarea',id:'newComponentDisplay',style:'display: none;',rows:20,cols:50,inner:'Neue Komponente'},{id:'newComponentConfigDisplayLabel',inner:'Neue Konfiguration:',style:'display: none;'},{tag:'textarea',id:'newComponentConfigDisplay',style:'display: none;',rows:20,cols:50,inner:'Neue Konfiguration'},{tag:'br'},{tag:'div',id:'demoArea'}]}},JSONfn:['ccm.load','https://leoneck.github.io/ccm-factory/js/jsonfn.js'],preview:!0,show_ccm_fields:!0,use_ace_for_editing:!0,url_to_modify:'',external_config:'',key_in_external_config:''},Instance:function(){const a=this;let b={config:{}},c={configEditor:null,htmlEditor:null,functionEditors:{},arrayMultipleTypesEditors:{}};this.start=(d)=>{function e(){let c='',d='',e='';a.url_to_modify?(c=a.url_to_modify,d=a.external_config,e=a.key_in_external_config):(c=N.querySelector('#componentURL').value,d=N.querySelector('#componentConfigURL').value,e=N.querySelector('#componentConfigKeyURL').value),a.ccm.load({url:c},function(c){b=a.ccm.helper.clone(c),delete b.config.ccm,''!==d&&''!==e?a.ccm.load({url:d},function(a){Object.keys(a[e.toLowerCase()]).forEach((c)=>{b.config[c]=a[e.toLowerCase()][c]}),f()}):f()})}function f(){N.querySelector('#componentSelector').style.display='none',N.querySelector('#chooseEditingStyle').style.display='block'}function g(){a.onchange&&a.onchange(a),N.querySelector('#chooseEditingStyle').style.display='none',h()}function h(){N.querySelector('#areaForConfigEditing').style.display='block',c.configEditor=J('innerConfigEditorArea',JSON.stringify(b.config,null,2),600,350,'json')}function i(){b.config=JSON.parse(c.configEditor.getValue()),F(),a.preview&&I()}function j(){a.onchange&&a.onchange(a),N.querySelector('#chooseEditingStyle').style.display='none',N.querySelector('#areaForGuidedEditing').style.display='block',a.show_ccm_fields&&(N.querySelector('#ccmDefaulConfigArea').style.display='block',k()),l('')}function k(){N.querySelector('#guided_nameOfNewComponent').value=b.name+'-new',N.querySelector('#guided_ccmURL').value=b.ccm}function l(a){let c;for(let d in c=''===a?b.config:K(b.config,a),c){let e;switch(e=''===a?'':a+'.',typeof c[d]){case'string':t(e+d,c[d]);break;case'number':v(e+d,c[d]);break;case'boolean':s(e+d,c[d]);break;case'object':Array.isArray(c[d])?(c[d][0]+'').startsWith('ccm.')?n(e+d,c[d]):w(e+d,c[d]):null===c[d]?u(e+d,c[d]):'html'==d?m():l(e+d);break;case'function':r(e+d,c[d]);break;default:console.log('!Parsing not implemented! '+d+' -> '+c[d]+' ('+typeof b.config[d]+')');}}}function m(){N.querySelector('#htmlEditorCaption').style.display='block',c.htmlEditor=J('htmlEditor',JSON.stringify(b.config.html,null,2),500,300,'json')}function n(a,b){const c=b[0];'ccm.load'===c?2===b.length?p(a,b):o(a,b,c):'ccm.module'===c?o(a,b,c):'ccm.component'===c?o(a,b,c):'ccm.instance'===c?o(a,b,c):'ccm.proxy'===c?o(a,b,c):'ccm.store'===c?o(a,b,c):'ccm.get'===c?o(a,b,c):'ccm.set'===c?o(a,b,c):'ccm.del'===c?o(a,b,c):console.log('Parsing of the ccm datatype '+c+' not implemented!')}function o(a,b,c){A(a,b,c);const d=q(a,b);N.querySelector('#guided_componentSpecificConfiguration').appendChild(d)}function p(a,b){A(a,b,'ccm.load');const c=document.createElement('span');c.innerHTML='Value: ';const d=document.createElement('input');d.id='guidedConfParameterCCMTypeLoad_'+a,d.value=b[1];const e=document.createElement('button');e.innerHTML='Advanced Editor',e.onclick=function(){c.outerHTML='',d.outerHTML='',d.id=d.id.slice(5);const f=q(a,b);e.previousElementSibling.appendChild(document.createElement('br')),e.previousElementSibling.appendChild(f),e.outerHTML=''},N.querySelector('#guided_componentSpecificConfiguration').appendChild(c),N.querySelector('#guided_componentSpecificConfiguration').appendChild(d),N.querySelector('#guided_componentSpecificConfiguration').appendChild(e)}function q(a,b){const c=document.createElement('textarea');return c.id='guidedConfParameterCCMTypeAdvanced_'+a,c.rows=5,c.cols=50,c.value=JSON.stringify(b,null,2),c}function r(a,b){A(a,b,'function');const d=document.createElement('div');d.id='guidedConfParameterFunction_'+a,N.querySelector('#guided_componentSpecificConfiguration').appendChild(d);const e=J('guidedConfParameterFunction_'+a,b.toString(),500,300,'javascript');c.functionEditors['guidedConfParameterFunction_'+a]=e}function s(a,b){A(a,b,'boolean');let c=document.createElement('select');c.id='guidedConfParameterBoolean_'+a;let d=document.createElement('option');d.text='true',d.value='true',b&&(d.selected='selected'),c.appendChild(d);let e=document.createElement('option');e.text='false',e.value='false',b||(e.selected='selected'),c.appendChild(e),N.querySelector('#guided_componentSpecificConfiguration').appendChild(c)}function t(a,b){A(a,b,'string');let c=document.createElement('input');c.value=b,c.id='guidedConfParameterString_'+a,N.querySelector('#guided_componentSpecificConfiguration').appendChild(c)}function u(a,b){A(a,b,'null');const c=document.createElement('input');c.value='null',c.disabled=!0,c.id='guidedConfParameterNull_'+a,N.querySelector('#guided_componentSpecificConfiguration').appendChild(c)}function v(a,b){A(a,b,'number');let c=document.createElement('input');c.value=b,c.id='guidedConfParameterNumber_'+a,c.type='number',N.querySelector('#guided_componentSpecificConfiguration').appendChild(c)}function w(a,b){let c=y(b);switch(c){case'string':A(a,b,'Array<string>'),z(a,b,'string');break;case'object':for(let c=0;c<b.length;c++)l(a+`[${c}]`);break;case'number':A(a,b,'Array<number>'),z(a,b,'number');break;case'boolean':A(a,b,'Array<boolean>'),z(a,b,'boolean');break;case'undefined':x(a,b);break;default:console.log('Array editor for '+c+' not yet implemented.');}}function x(a,b){A(a,b,'Array');const d=document.createElement('div');d.id='guidedConfParameterArrayMultipleTypes_'+a,N.querySelector('#guided_componentSpecificConfiguration').appendChild(d),c.arrayMultipleTypesEditors['guidedConfParameterArrayMultipleTypes_'+a]=J('guidedConfParameterArrayMultipleTypes_'+a,JSON.stringify(b,null,2),500,300,'json')}function y(a){let b=a.length,c='undefined',d={string:0,number:0,boolean:0,object:0};return a.forEach(function(a){switch(typeof a){case'string':d.string++;break;case'number':d.number++;break;case'boolean':d.boolean++;break;case'object':d.object++;break;default:}}),d.string===b?c='string':d.number===b?c='number':d.boolean===b?c='boolean':d.object===b&&(c='object'),c}function z(a,b,c){const d=document.createElement('div');'string'===c?d.id='GuidedArrayStringList_'+a:'number'===c?d.id='GuidedArrayNumberList_'+a:'boolean'===c&&(d.id='GuidedArrayBooleanList_'+a),b.forEach(function(a){let b=null;if('string'===c)b=document.createElement('input'),b.value=a;else if('number'===c)b=document.createElement('input'),b.value=a,b.type='number';else if('boolean'===c){b=document.createElement('select');const c=document.createElement('option');c.text='true',c.value='true',a&&(c.selected='selected'),b.appendChild(c);const d=document.createElement('option');d.text='false',d.value='false',a||(d.selected='selected'),b.appendChild(d)}const e=document.createElement('button');e.innerHTML='X',e.onclick=function(){this.nextElementSibling.nextElementSibling.outerHTML='',this.nextElementSibling.outerHTML='',this.previousElementSibling.outerHTML='',this.outerHTML=''};const f=document.createElement('button');f.innerHTML='+',f.onclick=function(){let a=null;if('string'===c)a=document.createElement('input'),a.value='';else if('number'===c)a=document.createElement('input'),a.value='',a.type='number';else if('boolean'===c){a=document.createElement('select');const b=document.createElement('option');b.text='true',b.value='true',a.appendChild(b);const c=document.createElement('option');c.text='false',c.value='false',a.appendChild(c)}const b=document.createElement('button');b.innerHTML='X',b.onclick=function(){this.nextElementSibling.nextElementSibling.outerHTML='',this.nextElementSibling.outerHTML='',this.previousElementSibling.outerHTML='',this.outerHTML=''};let d=document.createElement('br');this.parentNode.insertBefore(d,this.nextSibling);const e=document.createElement('button');e.innerHTML='+',e.onclick=f.onclick,this.parentNode.insertBefore(e,this.nextSibling),this.parentNode.insertBefore(b,this.nextSibling),this.parentNode.insertBefore(a,this.nextSibling),this.parentNode.insertBefore(d,this.nextSibling)};let g=document.createElement('br');d.appendChild(b),d.appendChild(e),d.appendChild(f),d.appendChild(g)});const e=document.createElement('button');e.innerHTML='+',e.onclick=function(){let a=null;if('string'===c)a=document.createElement('input'),a.value='';else if('number'===c)a=document.createElement('input'),a.value='',a.type='number';else if('boolean'===c){a=document.createElement('select');const b=document.createElement('option');b.text='true',b.value='true',a.appendChild(b);const c=document.createElement('option');c.text='false',c.value='false',a.appendChild(c)}const b=document.createElement('button');b.innerHTML='X',b.onclick=function(){this.nextElementSibling.nextElementSibling.outerHTML='',this.nextElementSibling.outerHTML='',this.previousElementSibling.outerHTML='',this.outerHTML=''};const d=document.createElement('button');d.innerHTML='+',d.onclick=function(){let a=null;if('string'===c)a=document.createElement('input'),a.value='';else if('number'===c)a=document.createElement('input'),a.value='',a.type='number';else if('boolean'===c){a=document.createElement('select');const b=document.createElement('option');b.text='true',b.value='true',a.appendChild(b);const c=document.createElement('option');c.text='false',c.value='false',a.appendChild(c)}const b=document.createElement('button');b.innerHTML='X',b.onclick=function(){this.nextElementSibling.nextElementSibling.outerHTML='',this.nextElementSibling.outerHTML='',this.previousElementSibling.outerHTML='',this.outerHTML=''};let e=document.createElement('br');this.parentNode.insertBefore(e,this.nextSibling);const f=document.createElement('button');f.innerHTML='+',f.onclick=d.onclick,this.parentNode.insertBefore(f,this.nextSibling),this.parentNode.insertBefore(b,this.nextSibling),this.parentNode.insertBefore(a,this.nextSibling),this.parentNode.insertBefore(e,this.nextSibling)};let e=document.createElement('br');this.nextElementSibling.insertBefore(e,this.nextElementSibling.childNodes[0]),this.nextElementSibling.insertBefore(d,this.nextElementSibling.childNodes[0]),this.nextElementSibling.insertBefore(b,this.nextElementSibling.childNodes[0]),this.nextElementSibling.insertBefore(a,this.nextElementSibling.childNodes[0])};const f=document.createElement('button');f.innerHTML='+',f.onclick=function(){let a=null;if('string'===c)a=document.createElement('input'),a.value='';else if('number'===c)a=document.createElement('input'),a.value='',a.type='number';else if('boolean'===c){a=document.createElement('select');const b=document.createElement('option');b.text='true',b.value='true',a.appendChild(b);const c=document.createElement('option');c.text='false',c.value='false',a.appendChild(c)}const b=document.createElement('button');b.innerHTML='X',b.onclick=function(){this.nextElementSibling.nextElementSibling.outerHTML='',this.nextElementSibling.outerHTML='',this.previousElementSibling.outerHTML='',this.outerHTML=''};const d=document.createElement('button');d.innerHTML='+',d.onclick=function(){let a=null;if('string'===c)a=document.createElement('input'),a.value='';else if('number'===c)a=document.createElement('input'),a.value='',a.type='number';else if('boolean'===c){a=document.createElement('select');const b=document.createElement('option');b.text='true',b.value='true',a.appendChild(b);const c=document.createElement('option');c.text='false',c.value='false',a.appendChild(c)}const b=document.createElement('button');b.innerHTML='X',b.onclick=function(){this.nextElementSibling.nextElementSibling.outerHTML='',this.nextElementSibling.outerHTML='',this.previousElementSibling.outerHTML='',this.outerHTML=''};let e=document.createElement('br');this.parentNode.insertBefore(e,this.nextSibling);const f=document.createElement('button');f.innerHTML='+',f.onclick=d.onclick,this.parentNode.insertBefore(f,this.nextSibling),this.parentNode.insertBefore(b,this.nextSibling),this.parentNode.insertBefore(a,this.nextSibling),this.parentNode.insertBefore(e,this.nextSibling)};let e=document.createElement('br');this.previousElementSibling.appendChild(a),this.previousElementSibling.appendChild(b),this.previousElementSibling.appendChild(d),this.previousElementSibling.appendChild(e)},N.querySelector('#guided_componentSpecificConfiguration').appendChild(e),N.querySelector('#guided_componentSpecificConfiguration').appendChild(d),N.querySelector('#guided_componentSpecificConfiguration').appendChild(f)}function A(a,b,c){const d=document.createElement('div');d.innerHTML=a+':';const e=document.createElement('button');e.innerHTML='?',e.onclick=function(){if(!this.nextElementSibling){const e=document.createElement('div');e.style.width='500px',e.style.borderStyle='groove',e.style.borderWidth='2px',e.innerHTML=C(a,b,c),d.appendChild(e)}},d.appendChild(e),N.querySelector('#guided_componentSpecificConfiguration').appendChild(d)}function B(){if(!this.nextElementSibling){const a=document.createElement('div');a.style.width='500px',a.style.borderStyle='groove',a.style.borderWidth='2px',a.innerHTML=`<a href="https://github.com/akless/ccm/tree/master/version">Verfügbare CCM Versionen</a><br>
                                Die dort aufgeführten Dateien können über das folgende URL-Schema erreicht werden:<br>
                                https://akless.github.io/ccm/version/&lt;Dateiname&gt;`,N.querySelector('#ccmUrlEditor').appendChild(a)}}function C(a,c,d){let e='';if(b.hasOwnProperty('meta')&&b.meta.hasOwnProperty('config')){let c=K(b.meta.config,a);if(c)return e=D(c.ccm_doc_type,c.ccm_doc_desc,c.ccm_doc_examples),e;for(;-1<a.indexOf('.');)if(a=a.substr(0,a.lastIndexOf('.')),c=K(b.meta.config,a),c)return e=D(c.ccm_doc_type,c.ccm_doc_desc,c.ccm_doc_examples),e}let f='';switch(d){case'string':f='In diesem Feld kann ein beliebiger Text eingegeben werden.';break;case'number':f='In diesem Feld kann eine beliebige Zahl eingegeben werden.';break;case'boolean':f='\xDCber das Drop-Down Men\xFC k\xF6nnen die Werte <em>true</em> und <em>false</em> eingestellt werden.';break;case'ccm.load':f='<a href="https://github.com/akless/ccm/wiki/Loading-of-Resources">Wiki</a>';break;case'Array<boolean>':f='\xDCber die X Buttons, k\xF6nnen Elemente aus dem Array entfernt werden. Mit den + Buttons, k\xF6nnen neue Elemente hinzugef\xFCgt werden.<br>\xDCber die Drop-Down Men\xFCs k\xF6nnen die Werte <em>true</em> und <em>false</em> f\xFCr jedes Element eingestellt werden.';break;case'Array<number>':f='\xDCber die X Buttons, k\xF6nnen Elemente aus dem Array entfernt werden. Mit den + Buttons, k\xF6nnen neue Elemente hinzugef\xFCgt werden.<br>In den Feldern kann eine beliebige Zahl eingegeben werden.';break;case'Array<string>':f='\xDCber die X Buttons, k\xF6nnen Elemente aus dem Array entfernt werden. Mit den + Buttons, k\xF6nnen neue Elemente hinzugef\xFCgt werden.<br>In den Feldern kann ein beliebiger Text eingegeben werden.';break;case'Array':f='In diesem Array k\xF6nnen verschiedene Datentypen gemischt werden.';break;case'function':f='Der Code der Funktion kann bearbeitet werden.';break;case'null':f='Dieser Wert kann nicht bearbeitet werden.';break;default:return e='Keine Hilfe verf\xFCgbar.',e;}return e=`
                !Die Komponente hat dieses Feld nicht dokumentiert. Die folgenden Hinweise sind allgemein und beziehen sich nur auf den aktuellen Datentyp des Feldes. Orientieren Sie sich bei der Modifikation an dem aktuellen Wert!<br>
                <b><u>Datentyp:</u></b> ${d}<br>
                <b><u>Beschreibung:</u></b> ${f}`,e}function D(a,b,c){let d='';return c&&c.forEach((a)=>{Object.keys(a).forEach((b)=>{d+=`<i>${M(b)}: </i> ${M(a[b])} <br>`})}),`
            <b><u>Datentyp(en):</u></b> ${M(a.join(', '))}<br>
            <b><u>Beschreibung:</u></b> ${M(b)}<br>
            <b><u>Beispiele:</u></b><br>
            ${d}
          `}function E(){a.show_ccm_fields&&(b.name=N.querySelector('#guided_nameOfNewComponent').value,b.ccm=N.querySelector('#guided_ccmURL').value),b.config.html=JSON.parse(c.htmlEditor.getValue());let d=N.querySelectorAll('input');for(let a=0;a<d.length;a++){if(d[a].id.startsWith('guidedConfParameterString_')){let b=d[a].id.slice(26);L(b,d[a].value)}if(d[a].id.startsWith('guidedConfParameterNull_')){let b=d[a].id.slice(24);L(b,null)}if(d[a].id.startsWith('guidedConfParameterNumber_')){let b=d[a].id.slice(26);L(b,parseFloat(d[a].value))}if(d[a].id.startsWith('guidedConfParameterCCMTypeLoad_')){let b=d[a].id.slice(31);L(b,['ccm.load',d[a].value])}}let e=N.querySelectorAll('select');for(let a=0;a<e.length;a++)if(e[a].id.startsWith('guidedConfParameterBoolean_')){let b=e[a].id.slice(27);L(b,'true'===e[a].value)}let f=N.querySelectorAll('textarea');for(let a=0;a<f.length;a++)if(f[a].id.startsWith('guidedConfParameterCCMTypeAdvanced_')){let b=f[a].id.slice(35);L(b,JSON.parse(f[a].value))}let g=N.querySelectorAll('div');for(let a=0;a<g.length;a++)if(g[a].id.startsWith('GuidedArrayStringList_')){let b=g[a].id.slice(22),c=[],d=g[a].children;for(let a=0;a<d.length;a++)'INPUT'===d[a].nodeName&&c.push(d[a].value);L(b,c)}else if(g[a].id.startsWith('GuidedArrayNumberList_')){let b=g[a].id.slice(22),c=[],d=g[a].children;for(let a=0;a<d.length;a++)'INPUT'===d[a].nodeName&&c.push(parseFloat(d[a].value));L(b,c)}else if(g[a].id.startsWith('GuidedArrayBooleanList_')){let b=g[a].id.slice(23),c=[],d=g[a].children;for(let a=0;a<d.length;a++)'SELECT'===d[a].nodeName&&c.push('true'===d[a].value);L(b,c)}else if(g[a].id.startsWith('guidedConfParameterFunction_')){let b=g[a].id.slice(28);const d=c.functionEditors[g[a].id].getValue();L(b,eval('('+d+')'))}else if(g[a].id.startsWith('guidedConfParameterArrayMultipleTypes_')){let b=g[a].id.slice(38);const d=c.arrayMultipleTypesEditors[g[a].id].getValue();L(b,JSON.parse(d))}F(),a.onchange&&a.onchange(a),a.preview&&I()}function F(){N.querySelector('#newComponentDisplayLabel').style.display='block',N.querySelector('#newComponentDisplay').style.display='block',N.querySelector('#newComponentConfigDisplayLabel').style.display='block',N.querySelector('#newComponentConfigDisplay').style.display='block',N.querySelector('#newComponentDisplay').value=G(b),N.querySelector('#newComponentConfigDisplay').value=H(JSONfn.stringify(b.config))}function G(a){let b=H(JSONfn.stringify(a));return'{\n\n  const component = '+b+';\n\n  function p(){window.ccm[v].component(component)}const f="ccm."+component.name+(component.version?"-"+component.version.join("."):"")+".js";if(window.ccm&&null===window.ccm.files[f])window.ccm.files[f]=component;else{const n=window.ccm&&window.ccm.components[component.name];n&&n.ccm&&(component.ccm=n.ccm),"string"===typeof component.ccm&&(component.ccm={url:component.ccm});var v=component.ccm.url.split("/").pop().split("-");if(v.length>1?(v=v[1].split("."),v.pop(),"min"===v[v.length-1]&&v.pop(),v=v.join(".")):v="latest",window.ccm&&window.ccm[v])p();else{const e=document.createElement("script");document.head.appendChild(e),component.ccm.integrity&&e.setAttribute("integrity",component.ccm.integrity),component.ccm.crossorigin&&e.setAttribute("crossorigin",component.ccm.crossorigin),e.onload=function(){p(),document.head.removeChild(e)},e.src=component.ccm.url}}\n}'}function H(a){return a.replace(/\\n/g,'\r\n').replace(/function([^]*)}"/g,'function$1}').replace(/"function([^]*)}"/g,'function$1}').replace(/"function/g,'function').replace(/\\\\\//g,'\\/').replace(/\\"/g,'"')}function I(){const a=document.querySelector('[data-demotype="isDemoComponent"]');a&&(a.outerHTML='');const c=JSONfn.parse(JSONfn.stringify(b)),d=Math.random().toString(36).substr(2,5);c.name=d;const e=document.createElement('ccm-'+d);e.setAttribute('data-demotype','isDemoComponent'),document.body.appendChild(e),eval(G(c))}function J(b,c,d,e,f){if(a.use_ace_for_editing){const a=document.createElement('juicy-ace-editor');a.id=b+'attachedEditor',a.style.width=d+'px',a.style.height=e+'px',N.querySelector('#'+b).appendChild(a);const g=N.querySelector('#'+b+'attachedEditor').editor;return g.setTheme('ace/theme/tomorrow'),g.getSession().setMode('ace/mode/'+f),g.getSession().setTabSize(2),g.getSession().setUseWrapMode(!0),g.$blockScrolling=Infinity,g.setValue(c,1),g}else{const a=document.createElement('textarea');a.id=b+'attachedEditor',a.style.width=d+'px',a.style.height=e+'px',a.value=c,N.querySelector('#'+b).appendChild(a);return{getValue:function(){return a.value}}}}function K(b,c){c=c.replace(/\[(\w+)\]/g,'.$1'),c=c.replace(/^\./,'');let d=c.split('.');for(let a,e=0,f=d.length;e<f;++e)if(a=d[e],a in b)b=b[a];else return;return b}function L(a,c){let d=b.config,e=a.split('.'),f=e.length;for(let b,g=0;g<f-1;g++)b=e[g],d=K(d,b);d[e[f-1]]=c}function M(a){return a.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;')}if(-1<navigator.userAgent.toLowerCase().indexOf('firefox')&&(a.use_ace_for_editing=!1),a.use_ace_for_editing)if('registerElement'in document&&'import'in document.createElement('link')&&'content'in document.createElement('template'));else{let a=document.createElement('script');a.src='https://leoneck.github.io/ccm-factory/js/webcomponents-lite.js',document.body.appendChild(a)}if(a.use_ace_for_editing){let a=document.createElement('link');a.rel='import',a.href='https://leoneck.github.io/ccm-factory/js/juicy-ace-editor.html',document.head.appendChild(a)}let N=this.ccm.helper.html(this.html.main,{currentUrl:window.location.href,loadComponentClick:e,configEditorChosenClick:g,guidedEditingChosenClick:j,generateFromEditorClick:i,showHelpForCCMURL:B,generateFromGuidedClick:E});this.element.appendChild(N),''===a.url_to_modify?N.querySelector('#componentSelector').style.display='block':e(),d&&d()},this.getValue=()=>this.ccm.helper.clone(b.config)}};const b='ccm.'+component.name+(component.version?'-'+component.version.join('.'):'')+'.js';if(window.ccm&&null===window.ccm.files[b])window.ccm.files[b]=component;else{const b=window.ccm&&window.ccm.components[component.name];b&&b.ccm&&(component.ccm=b.ccm),'string'==typeof component.ccm&&(component.ccm={url:component.ccm});var v=component.ccm.url.split('/').pop().split('-');if(1<v.length?(v=v[1].split('.'),v.pop(),'min'===v[v.length-1]&&v.pop(),v=v.join('.')):v='latest',window.ccm&&window.ccm[v])a();else{const b=document.createElement('script');document.head.appendChild(b),component.ccm.integrity&&b.setAttribute('integrity',component.ccm.integrity),component.ccm.crossorigin&&b.setAttribute('crossorigin',component.ccm.crossorigin),b.onload=function(){a(),document.head.removeChild(b)},b.src=component.ccm.url}}}